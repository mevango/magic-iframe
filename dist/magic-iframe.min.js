!function(){"use strict";var a,b="FLM_CMM";if(!window.postMessage)return console.error("MIF: no postMessage support. MIF terminating.");var c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),d=document.currentScript;if(null===d){var e=document.getElementsByTagName("script");d=e[e.length-1]}var f=!1,g=function(){f||(window.addEventListener?window.addEventListener("message",q,!1):window.attachEvent&&window.attachEvent("onmessage",q),f=!0)},h=[],i=function(a){if(a.length)for(var b=0;b<a.length;b++)i(a[b]);else g(),h.push(a),c(function b(){j(a),c(b)})},j=function(c){var d=c.getBoundingClientRect(),e=d.top<0&&d.bottom>0?-1*d.y:0,f={type:b,y:e},g=k(f);a!==g&&(a=g,c.contentWindow.postMessage(g,"*"))},k=function(a){var b="";if(null===a||"object"!=typeof a)return b;for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=c+"="+encodeURIComponent(a[c]));return b},l=function(a){var b={};if(a+="",!a.length)return b;for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=",2);b[e[0]]=decodeURIComponent(e[1])}return b},m=function(a){const b=document.querySelector(a);if(b)return function(a){return a.clientHeight}(b)},n=!1,o=function(a){if(window!==top&&!n){var d=function(a){var c=k({type:b,h:m(a)});parent.postMessage(c,"*")};c(function b(){d(a.selector),c(b)}),n=!0}},p=function(a){for(var b=document.getElementsByTagName("iframe"),c=0;c<b.length;c++)if(b[c].contentWindow===a.source)return b[c];return null},q=function(a){var c=p(a),d=l(a.data);d.type===b&&r(c,d.h)},r=function(a,b){a&&(a.height=b,a.style.height=b+"px")},s=function(a){var b;if(document.querySelectorAll)b=document.querySelectorAll(a);else{if(!a.match(/^#[a-z0-9_-]+$/i))return console.error("MIF: no querySelectorAll, jQuery, or simple selector. MIF target ignored.");b=[document.getElementById(a.substring(1))]}for(var c=0;c<b.length;c++)u.parent(b[c]).init()},t=function(a){var b=document.createElement("iframe");d.id&&(b.id=d.id,d.id="mif-script-"+d.id),d.className&&(b.className=d.className,d.className=""),b.src=a,b.frameBorder=0,b.scrolling="no",b.allowFullscreen="true",b.style.display="block",b.style.webkitBoxSizing="border-box",b.style.mozBoxSizing="border-box",b.style.boxSizing="border-box",b.style.width="100%",b.style.overflow="hidden",d.parentNode.insertBefore(b,d.nextSibling),u.parent(b).init()},u=window.MagicIframe={child:function(a){return{init:o.bind(this,a)}},parent:function(a){return{init:function(){i(a)}}},init:function(){return{parent:i,child:o}}},v=(d.getAttribute("data-role")||"").toLowerCase(),w=(d.getAttribute("data-selector")||"body").toLowerCase();if("child"===v)u.child({selector:w}).init();else if("parent"===v){var x=d.getAttribute("data-target")||"";x.length&&s(x);var y=d.getAttribute("data-url")||"";y.length&&t(y)}}();
//# sourceMappingURL=magic-iframe.min.map