{"version":3,"sources":["../src/magic-iframe.js"],"names":["lastDataToChild","FLIMME_COMMUNICATIONS","window","postMessage","console","error","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","currentScript","document","undefined","scripts","getElementsByTagName","length","_registeredParentListeners","registerParentListeners","addEventListener","handleMessage","attachEvent","registeredIframes","initParent","element","q","push","af","postToChild","rect","getBoundingClientRect","offsetY","top","bottom","y","data","type","dataAsString","encodeMessage","contentWindow","message","messageStr","key","hasOwnProperty","encodeURIComponent","decodeMessage","messageParts","split","part","decodeURIComponent","getFullHeight","selector","el","querySelector","clientHeight","_childInitialized","initChild","params","messageParent","h","parent","getSourceIframe","event","frames","source","iframe","setHeight","height","style","initParentByURL","url","createElement","id","className","src","frameBorder","scrolling","allowFullscreen","display","webkitBoxSizing","mozBoxSizing","boxSizing","width","overflow","parentNode","insertBefore","nextSibling","MagicIframe","init","child","bind","this","getParameterByName","name","location","href","replace","regex","RegExp","results","exec","rawEvent","getAttribute","baseURL","show","toLowerCase"],"mappings":"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","file":"magic-iframe.min.js"}