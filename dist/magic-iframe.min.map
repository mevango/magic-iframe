{"version":3,"sources":["../src/magic-iframe.js"],"names":["lastDataToChild","FLIMME_COMMUNICATIONS","window","postMessage","console","error","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","currentScript","document","scripts","getElementsByTagName","length","_registeredParentListeners","registerParentListeners","addEventListener","handleMessage","attachEvent","registeredIframes","initParent","element","q","push","af","postToChild","rect","getBoundingClientRect","offsetY","top","bottom","y","data","type","dataAsString","encodeMessage","contentWindow","message","messageStr","key","hasOwnProperty","encodeURIComponent","decodeMessage","messageParts","split","part","decodeURIComponent","getFullHeight","selector","el","querySelector","clientHeight","_childInitialized","initChild","params","messageParent","h","parent","getSourceIframe","event","frames","source","iframe","setHeight","height","style","initParentByURL","url","createElement","id","className","src","frameBorder","scrolling","allowFullscreen","display","webkitBoxSizing","mozBoxSizing","boxSizing","width","overflow","parentNode","insertBefore","nextSibling","MagicIframe","init","child","bind","this","rawEvent","getAttribute","baseURL","toLowerCase"],"mappings":"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","file":"magic-iframe.min.js"}