{"version":3,"sources":["../src/magic-iframe.js"],"names":["lastDataToChild","FLIMME_COMMUNICATIONS","window","postMessage","console","error","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","currentScript","document","scripts","getElementsByTagName","length","_registeredParentListeners","registerParentListeners","addEventListener","handleMessage","attachEvent","registeredIframes","initParent","element","q","push","af","postToChild","rect","getBoundingClientRect","offsetY","top","bottom","y","data","type","dataAsString","encodeMessage","contentWindow","message","messageStr","key","hasOwnProperty","encodeURIComponent","decodeMessage","messageParts","split","part","decodeURIComponent","getFullHeight","selector","el","querySelector","clientHeight","_childInitialized","initChild","params","messageParent","h","parent","getSourceIframe","event","frames","source","iframe","setHeight","height","style","initParentBySelector","elem","querySelectorAll","match","getElementById","substring","MagicIframe","init","initParentByURL","url","createElement","id","className","src","frameBorder","scrolling","allowFullscreen","display","webkitBoxSizing","mozBoxSizing","boxSizing","width","overflow","parentNode","insertBefore","nextSibling","child","bind","this","role","getAttribute","toLowerCase","target"],"mappings":"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","file":"magic-iframe.min.js"}